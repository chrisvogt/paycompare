"use strict";var app=function(document,$){var docElem=document.documentElement,_userAgentInit=function(){docElem.setAttribute("data-useragent",navigator.userAgent)},_init=function(){$(document).foundation(),$(document).on("click","#start-jr",function(){$(document).foundation("joyride","start")}),_userAgentInit()};return{init:_init}}(document,jQuery);!function(){app.init()}(),$(function(){$("#container").highcharts({chart:{type:"areaspline"},title:{text:"Avg. salary, public elementary and secondary school teachers"},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom",floating:!1,borderWidth:0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},xAxis:{categories:["1969-70","1979-80","1989-90","1990-2000","2009-10","2011-12","2012-13"]},exporting:{sourceWidth:1600,sourceHeight:400},yAxis:{title:{text:"Estimated avg. teacher salary"}},tooltip:{shared:!0,valuePrefix:"$",valueSuffix:" dollars"},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.5}},series:[{name:"Alaska",data:[64675,81088,78626,63495,63696,63464,65468]},{name:"Alabama",data:[52830,47592,57152,57133,58925,56340,56383]}]})}),$(function(){function init(){return $.ajax({url:endpoint,dataType:"json",success:function(r){stateFactory(r)}}).responseJSON}function stateFactory(data){var states=extractStates(data);buildStateOptions(states),setStates([states[Math.floor(Math.random()*states.length)+1],states[Math.floor(Math.random()*states.length)+1]],data)}function extractStates(data){var states=[];for(var state in data)data.hasOwnProperty(state)&&"United States"!==state&&states.push(state);return states}function buildStateOptions(states){var el=$(".states");for(var state in states)el.append("<option>"+states[state]+"</option>")}function setStates(states,data){for(var chart=$("#container").highcharts(),i=0;i<2;i++)chart.legend.allItems[i].update({name:states[i]});chart.series[0].setData(getValues(data[states[0]]),!1),chart.series[1].setData(getValues(data[states[1]]),!1),chart.redraw()}function getValues(series){var values=[];for(var key in series)series.hasOwnProperty(key)&&values.push(series[key]);return values}var endpoint="https://cdn.rawgit.com/chrisvogt/ed85273a674001e3c585/raw/d8db84d982d666dc9b5a18a5c60c6f8756818181/teacher-est-avg-salary.json";init(),$(".states").change(function(){if("State A"!==$("#stateA").val()&&"State B"!==$("#stateB").val())return $.ajax({url:endpoint,dataType:"json",success:function(r){stateFactory(r),setStates([$("#stateA").val(),$("#stateB").val()],r)}}).responseJSON})});